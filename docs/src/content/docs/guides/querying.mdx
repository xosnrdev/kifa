---
title: Querying Logs
description: Retrieve entries by time range in multiple output formats.
---

import { Tabs, TabItem } from "@astrojs/starlight/components";

The `query` command retrieves stored entries and prints them to stdout. Filter by time range or retrieve all entries.

## Query Options

| Flag          | Description                | Example                      |
| ------------- | -------------------------- | ---------------------------- |
| `--from`      | Filter from time           | `--from 1h`                  |
| `--to`        | Filter until time          | `--to "2026-01-30"`          |
| `--format`    | Output format              | `text`, `json`, `csv`, `hex` |
| `--limit`     | Maximum entries to return  | `--limit 1000`               |

Without filters, `query` returns up to 1000 entries. Use `--limit 0` to return all.

## Time Formats

<Tabs>
<TabItem label="Relative">
```bash title="Terminal"
kifa query -d ./data --from 1h      # Last hour
kifa query -d ./data --from 30m     # Last 30 minutes
kifa query -d ./data --from 2d      # Last 2 days
kifa query -d ./data --from 1h30m   # Last 1.5 hours
```
</TabItem>
<TabItem label="Absolute">
```bash title="Terminal"
kifa query -d ./data --from "2026-01-29 12:00:00"
kifa query -d ./data --from "2026-01-29T12:00:00Z"
kifa query -d ./data --from "2026-01-29"             # Midnight
```
</TabItem>
</Tabs>

## Output Formats

<Tabs syncKey="format">
<TabItem label="Text">
```bash title="Terminal"
kifa query -d ./data --format text
```

```text title="Output"
2026-01-31 18:30:00 UTC {"txn":"TXN-001","amount":5000}
```
</TabItem>
<TabItem label="JSON">
```bash title="Terminal"
kifa query -d ./data --format json
```

```json title="Output"
{"timestamp":"2026-01-31 18:30:00 UTC","timestamp_ns":1738348200000000000,"data":"{...}"}
```
</TabItem>
<TabItem label="CSV">
```bash title="Terminal"
kifa query -d ./data --format csv
```

```csv title="Output"
timestamp,timestamp_ns,data
"2026-01-31 18:30:00 UTC",1738348200000000000,"{...}"
```
</TabItem>
<TabItem label="Hex">
```bash title="Terminal"
kifa query -d ./data --format hex
```

```text title="Output"
18276c2dae160000 7b22...
```
</TabItem>
</Tabs>

## Combining Filters

Time filters can be combined to select a specific window:

```bash title="Terminal"
kifa query -d ./data --from 24h --to 1h
```
